import{a5 as A,am as L,aL as m,co as I}from"./index-DE2iefs5.js";import{g as N}from"./position-C_vdxG5w.js";import{t as E}from"./throttle-D0n-MtE1.js";const s="ElInfiniteScroll",w=50,D=200,O=0,_={delay:{type:Number,default:D},distance:{type:Number,default:O},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},v=(t,n)=>Object.entries(_).reduce((o,[e,r])=>{var u,c;const{type:d,default:i}=r,a=t.getAttribute(`infinite-scroll-${e}`);let l=(c=(u=n[a])!=null?u:a)!=null?c:i;return l=l==="false"?!1:l,l=d(l),o[e]=Number.isNaN(l)?i:l,o},{}),h=t=>{const{observer:n}=t[s];n&&(n.disconnect(),delete t[s].observer)},j=(t,n)=>{const{container:o,containerEl:e,instance:r,observer:u,lastScrollTop:c}=t[s],{disabled:d,distance:i}=v(t,r),{clientHeight:a,scrollHeight:l,scrollTop:f}=e,S=f-c;if(t[s].lastScrollTop=f,u||d||S<0)return;let b=!1;if(o===t)b=l-(a+f)<=i;else{const{clientTop:T,scrollHeight:y}=t,H=N(t,e);b=f+a>=H+T+y-i}b&&n.call(r)};function p(t,n){const{containerEl:o,instance:e}=t[s],{disabled:r}=v(t,e);r||o.clientHeight===0||(o.scrollHeight<=o.clientHeight?n.call(e):h(t))}const B={async mounted(t,n){const{instance:o,value:e}=n;A(e)||L(s,"'v-infinite-scroll' binding value must be a function"),await m();const{delay:r,immediate:u}=v(t,o),c=I(t,!0),d=c===window?document.documentElement:c,i=E(j.bind(null,t,e),r);if(c){if(t[s]={instance:o,container:c,containerEl:d,delay:r,cb:e,onScroll:i,lastScrollTop:d.scrollTop},u){const a=new MutationObserver(E(p.bind(null,t,e),w));t[s].observer=a,a.observe(t,{childList:!0,subtree:!0}),p(t,e)}c.addEventListener("scroll",i)}},unmounted(t){if(!t[s])return;const{container:n,onScroll:o}=t[s];n==null||n.removeEventListener("scroll",o),h(t)},async updated(t){if(!t[s])await m();else{const{containerEl:n,cb:o,observer:e}=t[s];n.clientHeight&&e&&p(t,o)}}},g=B;g.install=t=>{t.directive("InfiniteScroll",g)};const V=g,k="/assets/total-cart-1-BGqxsEid.jpg",U="/assets/total-cart-3-BevSFhtZ.jpg",q="/assets/total-cart-5-BDu4QtaT.jpg",G="/assets/total-cart-6-9uA5HAW0.jpg";export{V as E,U as a,q as b,k as c,G as d};
